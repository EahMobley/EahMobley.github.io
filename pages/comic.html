<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script>
        async function foo() {
            const email = "k.makulov@innopolis.university"
            const params = new URLSearchParams({
                email: email
            })
            const idResponse = await fetch("https://fwd.innopolis.university/api/hw2?" + params);
            const id = await idResponse.json();
            const params2 = new URLSearchParams({
                id: id
            })
            const imgResponse = await fetch("https://fwd.innopolis.university/api/comic?" + params2);
            const imgData = await imgResponse.json();
            const imgElement = document.createElement("img")
            const dateElement = document.createElement("div")
            const dateElement2 = document.createElement("div")
            imgElement.src = imgData.img;
            imgElement.alt = imgData.alt;
            const date = new Date(imgData.year, imgData.month, imgData.day).toLocaleDateString();
            dateElement.textContent = date;
            dateElement2.textContent = imgData.safe_title
            document.body.appendChild(imgElement);
            document.body.appendChild(dateElement);
            document.body.appendChild(dateElement2);
            console.log(imgElement.src);
            const title = document.getElementById(1)
            title.textContent = imgData.safe_title
        }
        foo()
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="1">Karen's personal website</title>
</head>

<body>
    
</body>
</html>